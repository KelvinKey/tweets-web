webpackJsonp([4],{"0jH9":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("AmmR"),s={name:"Register",data:function(){return{phone:"",username:"",password:"",confirmPassword:""}},methods:{register:function(e){var r=this;this.$nextTick(function(){if(("submit"===e.target.type?e.target:e.target.parentElement).canSubmit){var t={phone:r.phone,username:r.username,password:r.password};r.$router.push({name:"ValidatePhone",params:{user:t}})}})},checkUserExists:function(e){var r=this,t="username"===e?"用户名":"手机号",s="username"===e?{username:this.username}:{phone:this.phone};this.$http.post("user/exists",s).then(function(s){s.exists&&a.a.showError(r.$refs[e+"Input"],t+"已存在")})}}},o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 col-md-offset-4"},[t("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),t("div",{staticClass:"panel-body",attrs:{"data-validator-form":""}},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label"},[e._v("用户名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^[a-zA-Z\d]+$/,error:"用户名要求以字母开头的单词字符"},expression:"{ regex: /^[a-zA-Z\\d]+$/, error: '用户名要求以字母开头的单词字符' }",arg:"input",modifiers:{required:!0}}],ref:"usernameInput",staticClass:"form-control",attrs:{type:"text",placeholder:"请填写用户名"},domProps:{value:e.username},on:{blur:[function(r){return r.preventDefault(),e.checkUserExists("username")},function(r){return e.$forceUpdate()}],input:function(r){r.target.composing||(e.username=r.target.value.trim())}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label"},[e._v("手机号")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phone,expression:"phone",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^^1(3[0-9]|4[57]|5[0-35-9]|6[6]|7[0135678]|8[0-9])\d{8}$/,error:"请输入正确的手机号"},expression:"{ regex: /^^1(3[0-9]|4[57]|5[0-35-9]|6[6]|7[0135678]|8[0-9])\\d{8}$/, error: '请输入正确的手机号' }",arg:"input",modifiers:{required:!0}}],ref:"phoneInput",staticClass:"form-control",attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{blur:[function(r){return r.preventDefault(),e.checkUserExists("phone")},function(r){return e.$forceUpdate()}],input:function(r){r.target.composing||(e.phone=r.target.value.trim())}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label"},[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{regex:/^\w{6,16}$/,error:"密码要求 6 ~ 16 个单词字符"},expression:"{ regex: /^\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"请填写密码"},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value.trim())},blur:function(r){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"control-label"},[e._v("确认密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.confirmPassword,expression:"confirmPassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{target:"#password"},expression:"{ target: '#password' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"请填写确认密码"},domProps:{value:e.confirmPassword},on:{input:function(r){r.target.composing||(e.confirmPassword=r.target.value.trim())},blur:function(r){return e.$forceUpdate()}}})]),e._v(" "),t("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"},on:{click:e.register}},[t("i",{staticClass:"fa fa-btn fa-hand-o-right"}),e._v(" 下一步\n        ")])])])])])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"panel-heading"},[r("h3",{staticClass:"panel-title"},[this._v("请注册")])])}]};var i=t("C7Lr")(s,o,!1,function(e){t("R7Wj")},"data-v-315013b6",null);r.default=i.exports},R7Wj:function(e,r){}});
//# sourceMappingURL=4.d601484db831998b1099.js.map