{"version":3,"sources":["webpack:///src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?e1d6","webpack:///./src/views/auth/Register.vue"],"names":["Register","name","data","phone","username","password","confirmPassword","methods","register","e","_this","this","$nextTick","target","type","parentElement","canSubmit","user","$router","push","params","checkUserExists","key","_this2","$http","post","then","response","exists","validator","showError","$refs","auth_Register","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","data-validator-form","directives","rawName","value","expression","modifiers","trim","regex","error","arg","required","ref","placeholder","domProps","on","blur","$event","preventDefault","$forceUpdate","input","composing","id","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.d601484db831998b1099.js","sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-md-4 col-md-offset-4\">\n      <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">请注册</h3>\n        </div>\n\n        <div class=\"panel-body\" data-validator-form>\n          <div class=\"form-group\">\n            <label class=\"control-label\">用户名</label>\n            <input @blur.prevent=\"checkUserExists('username')\" v-model.trim=\"username\" v-validator:input.required=\"{ regex: /^[a-zA-Z\\d]+$/, error: '用户名要求以字母开头的单词字符' }\" ref=\"usernameInput\" type=\"text\" class=\"form-control\" placeholder=\"请填写用户名\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">手机号</label>\n            <input @blur.prevent=\"checkUserExists('phone')\" v-model.trim=\"phone\" v-validator:input.required=\"{ regex: /^^1(3[0-9]|4[57]|5[0-35-9]|6[6]|7[0135678]|8[0-9])\\d{8}$/, error: '请输入正确的手机号' }\" ref=\"phoneInput\" type=\"text\" class=\"form-control\" placeholder=\"请输入手机号\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">密码</label>\n            <input id=\"password\" v-model.trim=\"password\" v-validator.required=\"{ regex: /^\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }\" type=\"password\" class=\"form-control\" placeholder=\"请填写密码\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">确认密码</label>\n            <input  v-model.trim=\"confirmPassword\" v-validator.required=\"{ target: '#password' }\" type=\"password\" class=\"form-control\" placeholder=\"请填写确认密码\">\n          </div>\n          <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block\" @click=\"register\">\n            <i class=\"fa fa-btn fa-hand-o-right\"></i> 下一步\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import validator from '../../directives/validator'\n\n  export default {\n    name: 'Register',\n    data () {\n      return {\n        phone: '',\n        username: '',\n        password: '',\n        confirmPassword: ''\n      }\n    },\n    methods: {\n      register (e) {\n        this.$nextTick(() => {\n          const target = e.target.type === 'submit' ? e.target : e.target.parentElement\n\n          if (target.canSubmit) {\n            let user = {\n              phone: this.phone,\n              username: this.username,\n              password: this.password\n            }\n\n            this.$router.push({name: 'ValidatePhone', params: { user: user }})\n          }\n        })\n      },\n      checkUserExists (key) {\n        let name = key === 'username' ? '用户名' : '手机号'\n        let data = key === 'username'\n                  ? {'username': this.username}\n                  : {'phone': this.phone}\n\n        this.$http\n          .post('user/exists', data)\n          .then(response => {\n            if (response.exists) {\n              validator.showError(this.$refs[`${key}Input`], `${name}已存在`)\n            }\n          })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .thumbnail { width: 170px; margin-top: 10px; cursor: pointer;}\n  .thumbnail .captcha { height: 46px; background: #E1E6E8;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/auth/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 col-md-offset-4\"},[_c('div',{staticClass:\"panel panel-default\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\",attrs:{\"data-validator-form\":\"\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"用户名\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}},{name:\"validator\",rawName:\"v-validator:input.required\",value:({ regex: /^[a-zA-Z\\d]+$/, error: '用户名要求以字母开头的单词字符' }),expression:\"{ regex: /^[a-zA-Z\\\\d]+$/, error: '用户名要求以字母开头的单词字符' }\",arg:\"input\",modifiers:{\"required\":true}}],ref:\"usernameInput\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"请填写用户名\"},domProps:{\"value\":(_vm.username)},on:{\"blur\":[function($event){$event.preventDefault();return _vm.checkUserExists('username')},function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phone),expression:\"phone\",modifiers:{\"trim\":true}},{name:\"validator\",rawName:\"v-validator:input.required\",value:({ regex: /^^1(3[0-9]|4[57]|5[0-35-9]|6[6]|7[0135678]|8[0-9])\\d{8}$/, error: '请输入正确的手机号' }),expression:\"{ regex: /^^1(3[0-9]|4[57]|5[0-35-9]|6[6]|7[0135678]|8[0-9])\\\\d{8}$/, error: '请输入正确的手机号' }\",arg:\"input\",modifiers:{\"required\":true}}],ref:\"phoneInput\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"blur\":[function($event){$event.preventDefault();return _vm.checkUserExists('phone')},function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value.trim()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}},{name:\"validator\",rawName:\"v-validator.required\",value:({ regex: /^\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }),expression:\"{ regex: /^\\\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }\",modifiers:{\"required\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"请填写密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"确认密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.confirmPassword),expression:\"confirmPassword\",modifiers:{\"trim\":true}},{name:\"validator\",rawName:\"v-validator.required\",value:({ target: '#password' }),expression:\"{ target: '#password' }\",modifiers:{\"required\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"请填写确认密码\"},domProps:{\"value\":(_vm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmPassword=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-lg btn-primary btn-block\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.register}},[_c('i',{staticClass:\"fa fa-btn fa-hand-o-right\"}),_vm._v(\" 下一步\\n        \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-heading\"},[_c('h3',{staticClass:\"panel-title\"},[_vm._v(\"请注册\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-315013b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-315013b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-315013b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-315013b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/Register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}